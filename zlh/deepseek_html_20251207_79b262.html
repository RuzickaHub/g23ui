<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #111111;
            --bg-secondary: #1A1A1A;
            --bg-card: #1E1E1E;
            --bg-card-hover: #252525;
            --bg-modal: rgba(10, 10, 10, 0.95);
            --text-primary: #F9FAFB;
            --text-secondary: #9CA3AF;
            --accent: #3B82F6;
            --accent-hover: #2563EB;
            --border: #2D2D2D;
            --border-light: #3A3A3A;
            --shadow: rgba(0, 0, 0, 0.3);
            --radius: 12px;
            --radius-sm: 8px;
            --transition: all 0.2s ease-in-out;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            padding: 0 2rem;
            display: flex;
            flex-direction: column;
        }
        
        /* Header */
        .header {
            padding: 3rem 0 1.5rem 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1.5rem;
        }
        
        .page-title {
            font-weight: 300;
            font-size: 1.5rem;
            color: var(--text-primary);
            letter-spacing: -0.02em;
        }
        
        .logo {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: var(--bg-card);
            border: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 500;
            color: var(--text-secondary);
            font-size: 0.9rem;
            user-select: none;
        }
        
        .search-container {
            width: 100%;
            max-width: 300px;
        }
        
        .search-input {
            width: 100%;
            background-color: transparent;
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            padding: 0.65rem 1rem;
            font-family: inherit;
            font-size: 0.9rem;
            color: var(--text-primary);
            transition: var(--transition);
        }
        
        .search-input::placeholder {
            color: var(--text-secondary);
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 1px rgba(59, 130, 246, 0.1);
        }
        
        /* Kategorie */
        .categories-container {
            margin-bottom: 2rem;
            position: relative;
        }
        
        .categories-title {
            font-size: 0.85rem;
            font-weight: 500;
            color: var(--text-secondary);
            margin-bottom: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        .categories {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .category-btn {
            background-color: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 0.5rem 1rem;
            font-family: inherit;
            font-size: 0.85rem;
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition);
            user-select: none;
        }
        
        .category-btn:hover {
            background-color: var(--bg-card-hover);
            border-color: var(--border-light);
            color: var(--text-primary);
        }
        
        .category-btn.active {
            background-color: var(--accent);
            border-color: var(--accent);
            color: var(--text-primary);
            font-weight: 500;
        }
        
        /* Dashboard Grid */
        .dashboard-grid {
            flex: 1;
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 1.75rem;
            padding-bottom: 3rem;
        }
        
        .card {
            background-color: var(--bg-card);
            border-radius: var(--radius);
            padding: 1.75rem 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            transition: var(--transition);
            box-shadow: 0 4px 6px -1px var(--shadow);
            border: 1px solid transparent;
            cursor: pointer;
        }
        
        .card:hover {
            transform: scale(1.05);
            background-color: var(--bg-card-hover);
            border-color: rgba(59, 130, 246, 0.3);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
        }
        
        .card-icon {
            width: 48px;
            height: 48px;
            margin-bottom: 1rem;
            color: var(--text-secondary);
            transition: var(--transition);
        }
        
        .card:hover .card-icon {
            color: var(--accent);
            animation: pulse 2s infinite;
        }
        
        .card-title {
            font-weight: 500;
            font-size: 0.875rem;
            color: var(--text-secondary);
            text-align: center;
            transition: var(--transition);
        }
        
        .card:hover .card-title {
            color: var(--text-primary);
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-modal);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            backdrop-filter: blur(4px);
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background-color: var(--bg-secondary);
            border-radius: var(--radius);
            width: 100%;
            max-width: 500px;
            border: 1px solid var(--border);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5);
            animation: modalFadeIn 0.3s ease-out;
        }
        
        .modal-header {
            padding: 1.5rem 1.5rem 0;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }
        
        .modal-icon-container {
            width: 64px;
            height: 64px;
            background-color: var(--bg-card);
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
        }
        
        .modal-icon {
            width: 36px;
            height: 36px;
            color: var(--accent);
        }
        
        .modal-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.5rem;
            cursor: pointer;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            transition: var(--transition);
        }
        
        .modal-close:hover {
            background-color: var(--bg-card);
            color: var(--text-primary);
        }
        
        .modal-body {
            padding: 1.5rem;
        }
        
        .modal-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }
        
        .modal-category {
            display: inline-block;
            background-color: rgba(59, 130, 246, 0.1);
            color: var(--accent);
            font-size: 0.75rem;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            margin-bottom: 1rem;
            font-weight: 500;
        }
        
        .modal-description {
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 1.5rem;
            font-size: 0.95rem;
        }
        
        .modal-meta {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
            padding: 1rem;
            background-color: var(--bg-card);
            border-radius: var(--radius-sm);
        }
        
        .meta-item {
            display: flex;
            flex-direction: column;
        }
        
        .meta-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-bottom: 0.25rem;
        }
        
        .meta-value {
            font-size: 0.9rem;
            color: var(--text-primary);
            font-weight: 500;
        }
        
        .modal-actions {
            display: flex;
            gap: 1rem;
        }
        
        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: var(--radius-sm);
            font-family: inherit;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            border: none;
        }
        
        .btn-primary {
            background-color: var(--accent);
            color: var(--text-primary);
            flex: 1;
        }
        
        .btn-primary:hover {
            background-color: var(--accent-hover);
        }
        
        .btn-secondary {
            background-color: var(--bg-card);
            color: var(--text-primary);
            border: 1px solid var(--border);
        }
        
        .btn-secondary:hover {
            background-color: var(--bg-card-hover);
        }
        
        /* Animace */
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.85; }
            100% { opacity: 1; }
        }
        
        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: translateY(20px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        /* Responzivita */
        @media (max-width: 1023px) {
            .dashboard-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 1.5rem;
            }
            
            .header {
                padding: 2.5rem 0 1.25rem 0;
            }
        }
        
        @media (max-width: 767px) {
            body {
                padding: 0 1.25rem;
            }
            
            .dashboard-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1.25rem;
            }
            
            .header {
                padding: 2rem 0 1rem 0;
                flex-direction: column;
                align-items: flex-start;
                gap: 1.25rem;
            }
            
            .search-container {
                max-width: 100%;
            }
            
            .page-title {
                font-size: 1.35rem;
            }
            
            .modal-meta {
                grid-template-columns: 1fr;
            }
            
            .modal-actions {
                flex-direction: column;
            }
            
            .categories {
                gap: 0.4rem;
            }
            
            .category-btn {
                padding: 0.4rem 0.8rem;
                font-size: 0.8rem;
            }
        }
        
        /* High contrast mode support */
        @media (forced-colors: active) {
            .card, .modal-content {
                border: 1px solid CanvasText;
            }
            
            .category-btn.active {
                border: 2px solid Highlight;
            }
        }
        
        /* Focus states for accessibility */
        .card:focus, .category-btn:focus {
            outline: 2px solid var(--accent);
            outline-offset: 2px;
        }
        
        /* Reduced motion preference */
        @media (prefers-reduced-motion: reduce) {
            .card, .card-icon, .card-title, .search-input, .category-btn, .btn {
                transition: none;
            }
            
            .card:hover {
                transform: none;
            }
            
            .card:hover .card-icon {
                animation: none;
            }
            
            .modal-content {
                animation: none;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="logo">JD</div>
        <h1 class="page-title">Dashboard</h1>
        <div class="search-container">
            <input type="text" class="search-input" placeholder="Search apps..." id="searchInput">
        </div>
    </header>
    
    <div class="categories-container">
        <div class="categories-title">Categories</div>
        <div class="categories" id="categories">
            <!-- Kategorie se vygenerují pomocí JavaScriptu -->
        </div>
    </div>
    
    <main class="dashboard-grid" id="dashboardGrid">
        <!-- Karty se vygenerují pomocí JavaScriptu -->
    </main>
    
    <!-- Modal -->
    <div class="modal" id="appModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-icon-container">
                    <svg class="modal-icon" id="modalIcon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <!-- Ikona se dynamicky nahradí -->
                    </svg>
                </div>
                <button class="modal-close" id="modalClose">&times;</button>
            </div>
            <div class="modal-body">
                <h2 class="modal-title" id="modalTitle">App Name</h2>
                <div class="modal-category" id="modalCategory">Category</div>
                <p class="modal-description" id="modalDescription">
                    App description will appear here with details about functionality, purpose, and usage.
                </p>
                
                <div class="modal-meta">
                    <div class="meta-item">
                        <span class="meta-label">Last used</span>
                        <span class="meta-value" id="modalLastUsed">Today</span>
                    </div>
                    <div class="meta-item">
                        <span class="meta-label">Usage frequency</span>
                        <span class="meta-value" id="modalFrequency">Daily</span>
                    </div>
                    <div class="meta-item">
                        <span class="meta-label">Status</span>
                        <span class="meta-value" id="modalStatus">Active</span>
                    </div>
                    <div class="meta-item">
                        <span class="meta-label">Version</span>
                        <span class="meta-value" id="modalVersion">2.1.4</span>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button class="btn btn-secondary" id="modalFavorite">
                        <span id="favoriteText">Add to favorites</span>
                    </button>
                    <button class="btn btn-primary" id="modalOpen">Open in new window</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data aplikací
        const appsData = [
            // Produktivita
            { 
                id: 1, 
                name: 'Tasks', 
                category: 'Productivity', 
                icon: 'M12 6V12L16 14M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z',
                description: 'Task management and notes with team collaboration features. Track progress, set deadlines, and organize projects.',
                url: 'https://todoapp.example.com',
                lastUsed: 'Today',
                frequency: 'Daily',
                status: 'Active',
                version: '3.2.1',
                favorite: false
            },
            { 
                id: 2, 
                name: 'Calendar', 
                category: 'Productivity', 
                icon: 'M3 9H21M7 3V5M17 3V5M6 12H8M11 12H13M16 12H18M6 15H8M11 15H13M16 15H18M6 18H8M11 18H13M16 18H18M6.2 21H17.8C18.9201 21 19.4802 21 19.908 20.782C20.2843 20.5903 20.5903 20.2843 20.782 19.908C21 19.4802 21 18.9201 21 17.8V8.2C21 7.0799 21 6.51984 20.782 6.09202C20.5903 5.71569 20.2843 5.40973 19.908 5.21799C19.4802 5 18.9201 5 17.8 5H6.2C5.0799 5 4.51984 5 4.09202 5.21799C3.71569 5.40973 3.40973 5.71569 3.21799 6.09202C3 6.51984 3 7.07989 3 8.2V17.8C3 18.9201 3 19.4802 3.21799 19.908C3.40973 20.2843 3.71569 20.5903 4.09202 20.782C4.51984 21 5.07989 21 6.2 21Z',
                description: 'Smart calendar with meeting scheduling, reminders, and integration with other productivity tools.',
                url: 'https://calendar.example.com',
                lastUsed: 'Today',
                frequency: 'Multiple times daily',
                status: 'Active',
                version: '5.1.0',
                favorite: true
            },
            { 
                id: 3, 
                name: 'Notes', 
                category: 'Productivity', 
                icon: 'M14 3V7C14 7.55228 14.4477 8 15 8H19M14 3H7C5.89543 3 5 3.89543 5 5V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V8M14 3L19 8M12 12H9V15H12V12ZM15 12H12V15H15V12ZM12 15H15V18H12V15ZM9 15H12V18H9V15Z',
                description: 'Rich text notes with markdown support, tagging, and cloud synchronization across all devices.',
                url: 'https://notes.example.com',
                lastUsed: 'Yesterday',
                frequency: 'Daily',
                status: 'Active',
                version: '2.4.3',
                favorite: false
            },
            
            // Vývoj
            { 
                id: 4, 
                name: 'Code', 
                category: 'Development', 
                icon: 'M12 2L2 7L12 12L22 7L12 2Z M2 17L12 22L22 17 M2 12L12 17L22 12',
                description: 'Advanced code editor with syntax highlighting, version control integration, and debugging tools.',
                url: 'https://code.example.com',
                lastUsed: 'Today',
                frequency: 'Daily',
                status: 'Active',
                version: '1.8.5',
                favorite: true
            },
            { 
                id: 5, 
                name: 'Terminal', 
                category: 'Development', 
                icon: 'M4 17L10 11L4 5 M12 19H20',
                description: 'Command line interface with tabs, split panes, and custom configuration profiles.',
                url: 'https://terminal.example.com',
                lastUsed: 'Today',
                frequency: 'Daily',
                status: 'Active',
                version: '2.0.0',
                favorite: false
            },
            { 
                id: 6, 
                name: 'Git', 
                category: 'Development', 
                icon: 'M12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16Z M12 16V22 M12 2V8',
                description: 'Git repository management with visual branching, merging, and commit history tracking.',
                url: 'https://git.example.com',
                lastUsed: 'Yesterday',
                frequency: 'Daily',
                status: 'Active',
                version: '3.1.2',
                favorite: true
            },
            
            // Komunikace
            { 
                id: 7, 
                name: 'Chat', 
                category: 'Communication', 
                icon: 'M8 12H8.01M12 12H12.01M16 12H16.01M21 12C21 16.4183 16.4183 21 12 21C7.58172 21 3 16.4183 3 12C3 7.58172 7.58172 3 12 3C16.4183 3 21 7.58172 21 12Z',
                description: 'Team messaging application with channels, direct messages, and file sharing capabilities.',
                url: 'https://chat.example.com',
                lastUsed: 'Today',
                frequency: 'Multiple times daily',
                status: 'Active',
                version: '4.5.1',
                favorite: true
            },
            { 
                id: 8, 
                name: 'Mail', 
                category: 'Communication', 
                icon: 'M3 8L10.8906 13.2604C11.5624 13.7083 12.4376 13.7083 13.1094 13.2604L21 8M5 19H19C20.1046 19 21 18.1046 21 17V7C21 5.89543 20.1046 5 19 5H5C3.89543 5 3 5.89543 3 7V17C3 18.1046 3.89543 19 5 19Z',
                description: 'Email client with smart filters, snooze functionality, and calendar integration.',
                url: 'https://mail.example.com',
                lastUsed: 'Today',
                frequency: 'Multiple times daily',
                status: 'Active',
                version: '7.2.0',
                favorite: false
            },
            
            // Nástroje
            { 
                id: 9, 
                name: 'Analytics', 
                category: 'Tools', 
                icon: 'M9 17L9 12M12 17V7M15 17V14M7.8 21H16.2C17.8802 21 18.7202 21 19.362 20.673C19.9265 20.3854 20.3854 19.9265 20.673 19.362C21 18.7202 21 17.8802 21 16.2V7.8C21 6.11984 21 5.27976 20.673 4.63803C20.3854 4.07354 19.9265 3.6146 19.362 3.32698C18.7202 3 17.8802 3 16.2 3H7.8C6.11984 3 5.27976 3 4.63803 3.32698C4.07354 3.6146 3.6146 4.07354 3.32698 4.63803C3 5.27976 3 6.11984 3 7.8V16.2C3 17.8802 3 18.7202 3.32698 19.362C3.6146 19.9265 4.07354 20.3854 4.63803 20.673C5.27976 21 6.11984 21 7.8 21Z',
                description: 'Data analytics dashboard with real-time metrics, charts, and customizable reports.',
                url: 'https://analytics.example.com',
                lastUsed: 'Today',
                frequency: 'Daily',
                status: 'Active',
                version: '3.0.1',
                favorite: true
            },
            { 
                id: 10, 
                name: 'Storage', 
                category: 'Tools', 
                icon: 'M4 7V17C4 18.1046 4.89543 19 6 19H18C19.1046 19 20 18.1046 20 17V9C20 7.89543 19.1046 7 18 7H13L11 5H6C4.89543 5 4 5.89543 4 7Z',
                description: 'Cloud storage with file synchronization, sharing permissions, and version history.',
                url: 'https://storage.example.com',
                lastUsed: 'Yesterday',
                frequency: 'Weekly',
                status: 'Active',
                version: '2.7.3',
                favorite: false
            },
            
            // Zábava
            { 
                id: 11, 
                name: 'Music', 
                category: 'Entertainment', 
                icon: 'M9 18V6L21 3V16M9 18C9 19.6569 7.65685 21 6 21C4.34315 21 3 19.6569 3 18C3 16.3431 4.34315 15 6 15C7.65685 15 9 16.3431 9 18ZM21 16C21 17.6569 19.6569 19 18 19C16.3431 19 15 17.6569 15 16C15 14.3431 16.3431 13 18 13C19.6569 13 21 14.3431 21 16Z',
                description: 'Music streaming service with personalized playlists, recommendations, and offline listening.',
                url: 'https://music.example.com',
                lastUsed: 'Today',
                frequency: 'Daily',
                status: 'Active',
                version: '5.6.2',
                favorite: true
            },
            { 
                id: 12, 
                name: 'Stream', 
                category: 'Entertainment', 
                icon: 'M15 10L19.5528 7.72361C20.2177 7.39116 21 7.87465 21 8.61803V15.382C21 16.1253 20.2177 16.6088 19.5528 16.2764L15 14M5 18H13C14.1046 18 15 17.1046 15 16V8C15 6.89543 14.1046 6 13 6H5C3.89543 6 3 6.89543 3 8V16C3 17.1046 3.89543 18 5 18Z',
                description: 'Video streaming platform with live content, on-demand shows, and personalized recommendations.',
                url: 'https://stream.example.com',
                lastUsed: 'Yesterday',
                frequency: 'Weekly',
                status: 'Active',
                version: '3.3.0',
                favorite: false
            }
        ];

        // Kategorie
        const categories = ['All', 'Productivity', 'Development', 'Communication', 'Tools', 'Entertainment'];
        let activeCategory = 'All';
        let filteredApps = [...appsData];
        let currentApp = null;

        // Inicializace
        document.addEventListener('DOMContentLoaded', function() {
            initCategories();
            renderApps();
            initSearch();
            initModal();
        });

        // Inicializace kategorií
        function initCategories() {
            const categoriesContainer = document.getElementById('categories');
            
            categories.forEach(category => {
                const button = document.createElement('button');
                button.className = 'category-btn';
                button.textContent = category;
                if (category === 'All') {
                    button.classList.add('active');
                }
                
                button.addEventListener('click', () => {
                    // Odstranění aktivní třídy ze všech tlačítek
                    document.querySelectorAll('.category-btn').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    
                    // Přidání aktivní třídy na kliknuté tlačítko
                    button.classList.add('active');
                    
                    // Filtrování aplikací podle kategorie
                    activeCategory = category;
                    filterApps();
                });
                
                categoriesContainer.appendChild(button);
            });
        }

        // Vykreslení aplikací
        function renderApps() {
            const grid = document.getElementById('dashboardGrid');
            grid.innerHTML = '';
            
            filteredApps.forEach(app => {
                const card = document.createElement('div');
                card.className = 'card';
                card.tabIndex = 0;
                card.dataset.appId = app.id;
                
                // Ikona
                const iconSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
                iconSvg.setAttribute('class', 'card-icon');
                iconSvg.setAttribute('viewBox', '0 0 24 24');
                iconSvg.setAttribute('fill', 'none');
                iconSvg.setAttribute('xmlns', 'http://www.w3.org/2000/svg');
                
                const iconPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                iconPath.setAttribute('d', app.icon);
                iconPath.setAttribute('stroke', 'currentColor');
                iconPath.setAttribute('stroke-width', '1.5');
                iconPath.setAttribute('stroke-linecap', 'round');
                iconPath.setAttribute('stroke-linejoin', 'round');
                
                iconSvg.appendChild(iconPath);
                
                // Název
                const title = document.createElement('span');
                title.className = 'card-title';
                title.textContent = app.name;
                
                // Sestavení karty
                card.appendChild(iconSvg);
                card.appendChild(title);
                
                // Událost kliknutí
                card.addEventListener('click', () => openAppModal(app));
                card.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        openAppModal(app);
                    }
                });
                
                grid.appendChild(card);
            });
        }

        // Filtrování aplikací
        function filterApps() {
            if (activeCategory === 'All') {
                filteredApps = [...appsData];
            } else {
                filteredApps = appsData.filter(app => app.category === activeCategory);
            }
            
            // Aplikování vyhledávání, pokud existuje
            const searchInput = document.getElementById('searchInput');
            if (searchInput.value.trim() !== '') {
                const searchTerm = searchInput.value.toLowerCase();
                filteredApps = filteredApps.filter(app => 
                    app.name.toLowerCase().includes(searchTerm) || 
                    app.description.toLowerCase().includes(searchTerm)
                );
            }
            
            renderApps();
        }

        // Inicializace vyhledávání
        function initSearch() {
            const searchInput = document.getElementById('searchInput');
            let searchTimeout;
            
            searchInput.addEventListener('input', () => {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => {
                    filterApps();
                }, 300);
            });
        }

        // Inicializace modalu
        function initModal() {
            const modal = document.getElementById('appModal');
            const modalClose = document.getElementById('modalClose');
            const modalOpen = document.getElementById('modalOpen');
            const modalFavorite = document.getElementById('modalFavorite');
            
            // Zavření modalu
            modalClose.addEventListener('click', closeModal);
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });
            
            // Tlačítko Otevřít
            modalOpen.addEventListener('click', () => {
                if (currentApp && currentApp.url) {
                    window.open(currentApp.url, '_blank');
                    closeModal();
                }
            });
            
            // Tlačítko Přidat do oblíbených
            modalFavorite.addEventListener('click', () => {
                if (currentApp) {
                    currentApp.favorite = !currentApp.favorite;
                    updateFavoriteButton();
                    
                    // Aktualizace v hlavních datech
                    const appIndex = appsData.findIndex(app => app.id === currentApp.id);
                    if (appIndex !== -1) {
                        appsData[appIndex].favorite = currentApp.favorite;
                    }
                }
            });
            
            // Zavření pomocí klávesy ESC
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && modal.classList.contains('active')) {
                    closeModal();
                }
            });
        }

        // Otevření modalu s detaily aplikace
        function openAppModal(app) {
            currentApp = app;
            const modal = document.getElementById('appModal');
            
            // Nastavení obsahu modalu
            document.getElementById('modalTitle').textContent = app.name;
            document.getElementById('modalCategory').textContent = app.category;
            document.getElementById('modalDescription').textContent = app.description;
            document.getElementById('modalLastUsed').textContent = app.lastUsed;
            document.getElementById('modalFrequency').textContent = app.frequency;
            document.getElementById('modalStatus').textContent = app.status;
            document.getElementById('modalVersion').textContent = app.version;
            
            // Nastavení ikony
            const modalIcon = document.getElementById('modalIcon');
            modalIcon.innerHTML = '';
            const iconPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            iconPath.setAttribute('d', app.icon);
            iconPath.setAttribute('stroke', 'currentColor');
            iconPath.setAttribute('stroke-width', '1.5');
            iconPath.setAttribute('stroke-linecap', 'round');
            iconPath.setAttribute('stroke-linejoin', 'round');
            modalIcon.appendChild(iconPath);
            
            // Aktualizace tlačítka oblíbených
            updateFavoriteButton();
            
            // Otevření modalu
            modal.classList.add('active');
            
            // Focus na zavírací tlačítko pro přístupnost
            setTimeout(() => {
                document.getElementById('modalClose').focus();
            }, 100);
        }

        // Zavření modalu
        function closeModal() {
            const modal = document.getElementById('appModal');
            modal.classList.remove('active');
            currentApp = null;
        }

        // Aktualizace tlačítka oblíbených
        function updateFavoriteButton() {
            const favoriteBtn = document.getElementById('modalFavorite');
            const favoriteText = document.getElementById('favoriteText');
            
            if (currentApp && currentApp.favorite) {
                favoriteText.textContent = 'Remove from favorites';
                favoriteBtn.style.backgroundColor = 'rgba(59, 130, 246, 0.1)';
                favoriteBtn.style.color = 'var(--accent)';
                favoriteBtn.style.border = '1px solid var(--accent)';
            } else {
                favoriteText.textContent = 'Add to favorites';
                favoriteBtn.style.backgroundColor = '';
                favoriteBtn.style.color = '';
                favoriteBtn.style.border = '';
            }
        }
    </script>
</body>
</html>